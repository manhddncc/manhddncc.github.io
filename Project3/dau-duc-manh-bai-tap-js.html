<!DOCTYPE html>
<html lang="">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Title Page</title>

</head>
<body>
	<h1 >Bài tập js</h1>
	<div class="form-group">
		<label for="className" class="control-label">Class Name</label>
		<select id="className" class="form-control" required="required" onchange="loadSelectName(this)">
			<option value="1">default class</option>
		</select>
	</div>
	<div class="form-group">
		<label for="student" class="control-label">Student</label>
		<select id="student" class="form-control" required="required " onchange="loadInfoStd(this)">
			<option value="1">default std</option>
		</select>
	</div>
	<div id="info">

	</div>
	<script>
		let students = [
		{id: 1, name: 'tran van a', className: '.net'},
		{id: 2, name: 'tran van b', className: '.net'},
		{id: 3, name: 'tran van c', className: 'angular'},
		{id: 4, name: 'tran van d', className: 'angular'},
		{id: 5, name: 'tran van e', className: 'java'},
		{id: 6, name: 'tran van f', className: 'java'},
		{id: 7, name: 'tran van g', className: 'java'},
		{id: 8, name: 'tran van h', className: 'test'},
		{id: 9, name: 'tran van i', className: 'test'},
		{id: 10, name: 'tran van j', className: 'test'}
		]
		console.log(students);
		let className = document.getElementById("className");
		let student = document.getElementById("student");
		let infoStudent = document.getElementById("info");
		function loadSelectClass (){
			let arr = students.map((item)=>item.className)
			let listClass = arr.filter((value, index, arr) => arr.indexOf(value) === index);
			listClass.forEach((item) => {
				className.innerHTML += `<option value=${item}>${item}</option>`;
			})
		}
		loadSelectClass();

		function loadSelectName (obj){
			student.innerHTML = "";
			let type = obj.value;
			let listName = students.filter((item) => item.className === type)
			listName.forEach((item) => {
				student.innerHTML += `<option value=${item.id}>${item.name}</option>`;
			})
			console.log(listName);
			student.value = listName[0].id;
			loadInfoStd(student);
		}

		function loadInfoStd(obj){
			let idStd = obj.value;
			let infoStd = students.filter((item) => item.id == idStd);
			infoStudent.innerHTML = `<p>ID: ${infoStd[0].id}</p>`+`<p>Name: ${infoStd[0].name}</p>`+`<p>ClassName: ${infoStd[0].className}</p>` ;
			console.log(infoStd);
		}
	</script>
</body>
</html>